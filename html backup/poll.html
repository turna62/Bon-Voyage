<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="pollstyle.css" rel="stylesheet">
    <link href="poll.js" rel="stylesheet">

    <title>Document</title>
</head>
<body>
    <div class="wrapper">
        <header>Poll UI Design</header>
        <div class="poll-area">
            <input type="checkbox" name="poll" id="opt-1">
            <input type="checkbox" name="poll" id="opt-2">
            <input type="checkbox" name="poll" id="opt-3">
            <input type="checkbox" name="poll" id="opt-4">
            <label for="opt-1" class="opt-1">
                <div class="row">
                    <div class="column">
                        <span class="circle"></span>
                        <span class="text">HTML</span>
                    </div>
                    <span class="percent">30%</span>
                </div>
                <div class="progress" style='--w:30;'></div>
            </label>
            <label for="opt-2" class="opt-2">
                <div class="row">
                    <div class="column">
                        <span class="circle"></span>
                        <span class="text">Java</span>
                    </div>
                    <span class="percent">20%</span>
                </div>
                <div class="progress" style='--w:20;'></div>
            </label>
            <label for="opt-3" class="opt-3">
                <div class="row">
                    <div class="column">
                        <span class="circle"></span>
                        <span class="text">Python</span>
                    </div>
                    <span class="percent">40%</span>
                </div>
                <div class="progress" style='--w:40;'></div>
            </label>
            <label for="opt-4" class="opt-4">
                <div class="row">
                    <div class="column">
                        <span class="circle"></span>
                        <span class="text">jQuery</span>
                    </div>
                    <span class="percent">10%</span>
                </div>
                <div class="progress" style='--w:10;'></div>
            </label>
        </div>
    </div>
    <script>
        const options = document.querySelectorAll("label");
for (let i = 0; i < options.length; i++) { options[i].addEventListener("click", ()=>{
    for (let j = 0; j < options.length; j++) { 
        if(options[j].classList.contains("selected"))
        { options[j].classList.remove("selected"); } } 
        options[i].classList.add("selected"); 
        for (let k=0; k < options.length; k++) { 
            options[k].classList.add("selectall"); } 
            let forVal=options[i].getAttribute("for"); 
            let selectInput=document.querySelector("#"+forVal); 
            let getAtt=selectInput.getAttribute("type"); 
            if(getAtt=="checkbox" ){ 
                selectInput.setAttribute("type", "radio" ); }
                else if(selectInput.checked==true){ 
                    options[i].classList.remove("selected"); 
                    selectInput.setAttribute("type", "checkbox" ); } 
                    let array=[]; 
                    for (let l=0; l < options.length; l++) { 
                        if(options[l].classList.contains("selected")){ 
                            array.push(l); } } 
                            if(array.length==0){
                                 for (let m=0; m < options.length; m++) {
                                     options[m].removeAttribute("class"); } } }); }
    </script>
</body>
</html>